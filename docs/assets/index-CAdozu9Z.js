(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(n){if(n.ep)return;n.ep=!0;const t=e(n);fetch(n.href,t)}})();function b(a){let d=parseInt(a);const e=p();console.log(d);let o=e.findIndex(n=>n.id===d);e.splice(o,1),localStorage.setItem("list",JSON.stringify(e)),g()}function p(){const a=localStorage.getItem("list");return a?JSON.parse(a):[]}function g(){if(document.getElementById("tablePeople")){const a=document.getElementById("tableBody");a.innerHTML="";const d=p();if(d.length===0){const e=document.createElement("tr");e.innerHTML=`
      <td colspan="6">No hay personas registradas</td>
      `,a.appendChild(e)}d.forEach(e=>{const o=document.createElement("tr"),n=document.createElement("td"),t=document.createElement("td"),l=document.createElement("td"),r=document.createElement("td"),c=document.createElement("td"),s=document.createElement("td"),i=document.createElement("button");i.setAttribute("data-id",`${e.id}`),i.setAttribute("type","button"),n.textContent=`${e.name}`,t.textContent=`${e.age}`,l.textContent=`${e.gender}`,r.textContent=`${e.phone}`,c.textContent=`${e.email}`,i.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
      `,o.appendChild(n),o.appendChild(t),o.appendChild(l),o.appendChild(r),o.appendChild(c),s.appendChild(i),o.appendChild(s),a.appendChild(o)})}else{const a=document.getElementById("info"),d=document.createElement("table");d.setAttribute("id","tablePeople");const e=document.createElement("thead"),o=document.createElement("tbody");o.setAttribute("id","tableBody"),d.appendChild(e),d.appendChild(o),o.addEventListener("click",t=>{const l=t.target.closest("button");if(l){let r=l.dataset.id;b(r)}}),e.innerHTML=`
    <tr>
      <th>Nombre</th>
      <th>Edad</th>
      <th>Género</th>
      <th>Teléfono</th>
      <th>Correo</th>
      <th>Eliminar</th>
    </tr>
    `,p().forEach(t=>{const l=document.createElement("tr"),r=document.createElement("td"),c=document.createElement("td"),s=document.createElement("td"),i=document.createElement("td"),h=document.createElement("td"),f=document.createElement("td"),m=document.createElement("button");m.setAttribute("data-id",`${t.id}`),m.setAttribute("type","button"),r.textContent=`${t.name}`,c.textContent=`${t.age}`,s.textContent=`${t.gender}`,i.textContent=`${t.phone}`,h.textContent=`${t.email}`,m.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
      `,l.appendChild(r),l.appendChild(c),l.appendChild(s),l.appendChild(i),l.appendChild(h),f.appendChild(m),l.appendChild(f),o.appendChild(l)}),a.appendChild(d)}}const C=document.getElementById("buttonForm");class u{constructor(d,e,o,n,t){this.id=u.#e,this.name=d,this.phone=e,this.email=o,this.age=n,this.gender=t}static#e=Date.now()}C.addEventListener("click",a=>{a.preventDefault();let d=p(),e=document.forms.newPerson,o=e.name.value,n=e.phone.value,t=e.email.value,l=e.age.value,r=e.gender.value;e.reportValidity()&&(d.push(new u(o,n,t,l,r)),localStorage.setItem("list",JSON.stringify(d)),e.reset(),g())});
